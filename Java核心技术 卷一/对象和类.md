#### 对象和类

##### 类

  由类构造对象的过程称为创建类的实例

  封装（数据隐藏）将数据和行为组合在一个包中，并对对象的使用者隐藏数据的实现方式。可提高重用性和可靠性

  对象中的数据称为实例域，操纵数据的过程叫方法

  每个特定的类实例都有一组特定的实例域值。这些值得集合就是当前对象的当前状态

  封装的关键在于不能让类中的方法直接地访问其他类的实例域

##### 对象

  三个主要特性：对象的行为、对象的状态、对象标识

##### 类之间的关系

  依赖（uses-a） 一个类的方法操纵另一个类的对象

  聚合（has-a） 类A的对象包含类B的对象

  继承（is-a）

##### 对象与对象变量

  ```java
  Date date = new Date();
  
  date为对象变量，引用一个对象；new Date()构造了一个Date类型的对象
  ```

##### 更改器方法与访问器方法

  get、set

##### 自定义类

  一个源文件中，只能有一个公有类，且文件名与公有类名相同，但可以有多个非公有类

##### 构造器

  与类同名

  没有返回值

  每个类有至少一个构造器

  总是伴随着new操作一起调用，创建对象时调用，

  根据参数不同选择不同的构造器

##### 隐式参数与显式参数

  在每个方法中，this表示隐式参数（this指当前对象），不需要出现在方法声明中

##### 封装

  一个私有的数据域

  一个公有的域访问器方法

  一个公有的域更改器方法

  注意访问器方法不要返回引用可变对象，不然会破坏封装性，比如：

  ```java
  class Employee{
  
       private Date hireDay;
  
       public Date getHireDay(){
  
            return hireDay;
  
       }
  
  }
  
  Employee harry = new Employee();
  
  Date d = harry.getHireDay();
  
  d.setTime(d.getTime() - 1000);
  ```

  所以返回一个可变对象的引用是，应该对它进行克隆

  ```java
  public Date getHireDay(){
  
       return (Date) hireDay.clone();
  
  }
  ```

##### 基于类的访问权限

  A类的方法可以访问A类的任何一个对象的私有域

##### final实例域

  构建对象是必须初始化这样的域，并且在后面的操作中不能在对他进行修改。

  final修饰符大都应用于基本类型域或不可变类的域

  可变的类使用final修饰符可能会造成混乱，比如

  ```java
  private final StringBuilder evaluations;
  
   构造器中： evaluations = new StringBuilder();
  
   final关键字只能让evaluations中的对象引用不会在指示其他的StringBuilder对象，不过这个对象可以更改：
  
   public void test(){
  
       evaluations.append(“xxx”);
  
   }
  ```

##### 静态域

  一个类中如果定义了一个静态域，那这个类的所有实例都共享这一个静态域，而不是像其他实例域，每个实例都有它自身的实例域。

  静态域属于类，可直接使用，不需要创建类的实例

##### 静态常量

  ```java
  public static final double PI = 3.14159;
  ```

##### 静态方法

  不能访问对象状态

  只能访问类的静态域

##### 方法参数

  Java总是按值调用，方法得到的是所有参数值的一个拷贝，但是当方法参数是对象引用时，虽然方法得到的是一个拷贝，但是仍指向同一个对象，所以修改之后对象也会被修改

##### 重载

  多个方法有相同的名字、不同的参数，便产生了重载

##### 默认域初始化

  类中的域不初始化会自动初始化为默认值，但是方法中的局部变量不会自动初始化，必须明确的初始化局部变量

##### 无参构造函数

  一个类中没有编写构造器，系统会提供一个默认的无参构造器；

  如果类中提供了至少一个构造器，系统不会提供构造器，包括无参构造器

##### 初始化块

  1. 按照类中声明中出现的次序，依次执行静态初始化语句、静态初始化块

  2. 然后按照类中声明中出现的次序，依次执行所有域初始化语句、初始化块

  3. 最后执行构造器

##### 包作用域

|    修饰词     | 本类 | 同一包的类 | 继承类 | 其他类 |
| :-----------: | :--: | :--------: | :----: | :----: |
|    private    |  √   |     ×      |   ×    |   ×    |
| 无（default） |  √   |     √      |   ×    |   ×    |
|   protected   |  √   |     √      |   √    |   ×    |
|    public     |  √   |     √      |   √    |   √    |

